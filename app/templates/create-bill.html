{% extends "layout.html" %} {% block body %}
<!-- sub-nav -->

<div class="row container sub-nav d-flex justify-content-between">
  <div class="col-sm-12 col-md-6">
    <i class="bi bi-plus-circle"></i>
    <div class="detail">
      <h4>Añadir factura</h4>
    </div>
  </div>
</div>

<!-- add information -->

<div class="container create-bill-container">
  <!-- header -->
  <div class="row" id="bill-header">
    <div class="col-sm-12 col-md-4 d-flex justify-content-center" id="logo">
      <img src="../static/css/images/clinic-logo.jpg" alt="" />
    </div>
    <div
      class="col-sm-12 col-md-4 d-flex flex-column justify-content-center"
      id="info"
    >
      <strong
        ><small><p>Clinic project center</p></small></strong
      >
      <strong
        ><small><p>NIT X. XXX-XXX-XXX</p></small></strong
      >
      <strong>
        <small><p>Cl 12 N XX - XXX</p></small>
      </strong>
      <strong
        ><small><p>Tel: 3256985</p></small></strong
      >
      <strong
        ><small><p>Bogotá - Colombia</p></small></strong
      >
      <strong
        ><small><p>algunaempresa@gmail.com</p></small></strong
      >
    </div>
    <div
      class="col-sm-12 col-md-4 d-flex flex-column justify-content-center"
      id="bill-number"
    >
      <h4><strong>Factura no.</strong></h4>
      <h5>1</h5>
    </div>
  </div>

  <!-- client info -->
  <!-- work with forms, javascript and ajax's query  -->
  {% if patient %}
  <div class="row" id="client-bill-info">
    <div class="col-sm-12 col-md-7" id="client-info">
      <!-- patient info form -->
      <form id="data-client-form" class="d-flex flex-column" action="">
        <label for="">
          <div class="d-flex">
            <div id="name-title" class="title">
              <small><p>Nombres</p></small>
            </div>
            <input
              value="{{patient[2].title()}} {{patient[3].title()}}"
              type="text"
              name="client-names"
            />
          </div>
        </label>
        <label for="">
          <div class="d-flex">
            <div class="title">
              <small><p>Cédula</p></small>
            </div>
            <input value="{{patient[1]}}" type="text" name="client-id" />
            <div class="title">
              <small><p>Teléfono</p></small>
            </div>
            <input value="{{patient[5]}}" type="text" name="client-contact" />
          </div>
        </label>
        <label for="">
          <div class="d-flex">
            <div class="title">
              <small><p>Dirección</p></small>
            </div>
            <input
              value="{{patient[7].capitalize()}}"
              type="text"
              name="client-address"
            />
            <div class="title">
              <small><p>Ciudad</p></small>
            </div>
            <input value="Bogotá" type="text" name="client-city" />
          </div>
        </label>
      </form>
    </div>

    <!-- bill info form -->
    <div
      class="col-sm-12 col-md-5 d-flex flex-column justify-content-center align-items-center"
      id="bill-info"
    >
      <div id="bill-date-title">
        <p>Fecha factura</p>
      </div>
      <div>
        <p>28/04/2023</p>
      </div>
    </div>
  </div>

  <!-- mount in lyric and number -->

  <div id="appointment-info-container">
    <form
      class="d-flex justify-content-between"
      action=""
      id="appointment-info-form"
    >
      <tr>
        <div>
          <th>
            <small><strong>Fecha</strong></small>
          </th>
          <td>
            <input
              name="date"
              value="{{date}}"
              type="text"
              placeholder="Fecha de cita"
            />
          </td>
        </div>
      </tr>
      <tr>
        <div>
          <th>
            <small><strong>Hora de ingreso</strong></small>
          </th>
          <td>
            <input
              name="start"
              value="{{start}}"
              type="text"
              placeholder="Hora de ingreso"
            />
          </td>
        </div>
      </tr>
      <tr>
        <div>
          <th>
            <small><strong>Hora de salida</strong></small>
          </th>
          <td>
            <input
              name="end"
              value="{{end}}"
              type="text"
              placeholder="Hora de salida"
            />
          </td>
        </div>
      </tr>
    </form>
  </div>

  <!-- description -->

  <div id="description-container" class="container">
    <form id="prices-form" action="">
      <table>
        <tr class="description-title">
          <th>Descripción</th>
          <th id="price">Costo</th>
        </tr>
        <tr id="description-inputs">
          <td>
            <input
              name="appointment-description"
              type="text"
              placeholder="Descripción de consulta"
              value="{{reason}}"
            />
          </td>
          <td>
            <input
              name="appointment-cost"
              id="cost-input"
              type="text"
              placeholder="Monto cobrado"
            />
          </td>
        </tr>
      </table>
    </form>
  </div>

  <!-- appointment info -->
  <div id="appointment-info"></div>

  <div class="row" id="total-amount">
    <!-- in lyrics -->
    <div class="col-sm-12 col-md-9">
      <div id="lyric">
        <p><strong>Valor en letras</strong></p>
        <form id="lyric-amount" action="">
          <input
            readonly
            value=""
            name="lyric-amount"
            type="text"
            id="price-in-words"
          />
        </form>
      </div>
      <div>
        <p><strong>Observaciones</strong></p>
        <form id="observations" action="">
          <input placeholder="Observaciones" name="observations" type="text" />
        </form>
      </div>
      <div id="checkbox">
        <form id="pay-check" action="">
          <input type="checkbox" name="pay-check" /><small>
            Marcar como paga</small
          >
          <input type="hidden" name="pay-check" value="false">
        </form>
      </div>
    </div>
    <!-- in numbers -->
    <div class="col-sm-12 col-md-3" id="number-amount">
      <table id="price-table">
        <tr>
          <th><small>Total bruto</small></th>
          <td><input readonly id="cost-output" type="text" /></td>
        </tr>
        <tr>
          <th><small>IVA 19%</small></th>
          <td><input readonly id="const-iva-output" type="text" /></td>
        </tr>
        <tr>
          <th><small>Total a pagar</small></th>
          <td><input readonly id="total-cost" type="text" /></td>
        </tr>
      </table>
    </div>
  </div>

  {% endif %}

  <!-- footer -->

  <div class="container" id="bill-footer">
    <div>
      <p>
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vitae ea ipsam
        ex. Illo dolore, sapiente quibusdam, perferendis a deserunt, dolorem
        expedita necessitatibus molestias praesentium possimus architecto.
        Cumque, dolor quas. Saepe Lorem ipsum dolor, sit amet consectetur
        adipisicing elit. Facere quasi corrupti ullam assumenda consequuntur
        deserunt accusamus consequatur rerum ducimus aperiam corporis, quae
        maxime laboriosam autem enim numquam velit voluptate sequi!
      </p>
    </div>
  </div>
</div>

<!-- buttons -->
<div class="d-flex justify-content-center" id="bill-buttons">
  <a href="/citas"
    ><button type="button" id="cancel-form-button">Cancelar</button></a
  >
  <!-- el actions se hace desde js -->
  <button type="button" id="send-bill-button">Generar factura</button>
</div>
{% endblock %}
